## 1.ä¸ºä»€ä¹ˆ Socket è¦ç¿»è¯‘æˆ å¥—æ¥å­—

![image-20230304103512283](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230304103512283.png)

## 2. ç”¨æˆ·ç«¯å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯ï¼Œä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ä¸­è¦å…ˆè®¾ç½®å¥½æ•°æ®å®¹é‡ï¼Œè€Œä¸åœ¨ç”¨æˆ·ç«¯ä¸­è®¾ç½®ï¼Ÿ

ä»£ç ï¼š

```java
public class UdpServer {
    // æœåŠ¡ç«¯ Socket è¦ç»‘å®šçš„å›ºå®šçš„ç«¯å£
    private static final int PORT = 8888;

    public static void main(String[] args) throws IOException {
        // 1.åˆ›å»ºä¸€ä¸ªæœåŠ¡ç«¯DatagramSocketï¼Œ ï¼ˆï¼‰å†… ç»‘å®šåˆ°æœ¬æœºæŒ‡å®šçš„ç«¯å£ï¼Œç”¨äºå‘é€åŠæ¥æ”¶ UDP æ•°æ®æŠ¥
        DatagramSocket socket = new DatagramSocket(PORT);
        // ç”¨ä¸€ä¸ª while å¾ªç¯æ¨¡æ‹Ÿä¸€ç›´æ¥æ”¶å®¢æˆ·ç«¯ upd æ•°æ®æŠ¥
            while(true){
                // 2.åˆ›å»ºæ•°æ®æŠ¥ï¼Œç”¨äºæ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„æ•°æ®
                byte[] bytes = new byte[1024];
                // new ä¸€ä¸ªæ•°æ®æŠ¥ï¼Œæ¥æ”¶çš„æ•°æ®ä¿å­˜åœ¨å­—èŠ‚æ•°ç»„å½“ä¸­
                DatagramPacket packet = new DatagramPacket(bytes, bytes.length);
                System.out.println("--------------");
                System.out.println("Waiting for the UDP DatagramPacket");
                // 3. ç­‰å¾…æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„ UDP æ•°æ®æŠ¥ï¼Œ è¯¥æ–¹æ³•åœ¨æ¥æ”¶åˆ°æ•°æ®æŠ¥ä¹‹å‰ä¼šä¸€ç›´é˜»å¡ï¼Œæ¥æ”¶åˆ°æ•°æ®æŠ¥ä»¥å,
                // DatagramPacketå¯¹è±¡ï¼ŒåŒ…å«æ•°æ®(bytes),å’Œå®¢æˆ·ç«¯ip,ç«¯å£å·
                socket.receive(packet);
                System.out.printf("å®¢æˆ·ç«¯IP:%s%n",packet.getAddress().getHostAddress());
                System.out.printf("å®¢æˆ·ç«¯ç«¯å£å·ï¼š%s%n", packet.getPort());
                System.out.printf("å®¢æˆ·ç«¯å‘é€çš„åŸç”Ÿæ•°æ®ä¸ºï¼š%s%n",
                        Arrays.toString(packet.getData()));
                System.out.printf("å®¢æˆ·ç«¯å‘é€çš„æ–‡æœ¬æ•°æ®ä¸ºï¼š%s%n", new
                        String(packet.getData()));
            }
    }
}

public class UdpClient {
    private static final SocketAddress ADDRESS = new InetSocketAddress("localhost",8888);
    // InetSocketAddress æ˜¯ SocketAddress çš„å­ç±»ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ª Socket åœ°å€
    public static void main(String[] args) throws IOException {
        // åˆ›å»ºå®¢æˆ·ç«¯ DatagramSocket å¥—æ¥å­—ï¼Œç»‘å®šåˆ°æœ¬æœºä»»æ„ä¸€ä¸ªéšæœºç«¯å£
        DatagramSocket socket = new DatagramSocket();
        // å‡†å¤‡è¦å‘é€çš„æ•°æ®
        byte[] bytes = "hello world!".getBytes();
        // ç»„è£…è¦å‘é€çš„UDPæ•°æ®æŠ¥ï¼ŒåŒ…å«æ•°æ® bytes, åŠå‘é€çš„æœåŠ¡ç«¯ä¿¡æ¯ï¼ˆæœåŠ¡å™¨ IP + ç«¯å£å·ï¼‰
        DatagramPacket packet = new DatagramPacket(bytes,bytes.length,ADDRESS);
        // å‘é€UDPæ•°æ®æŠ¥
        socket.send(packet);
        // å®¢æˆ·ç«¯å¯åŠ¨åä¼šå‘é€ä¸€ä¸ª"hello world!" çš„å­—ç¬¦ä¸²åˆ°æœåŠ¡ç«¯

        // åˆ›å»ºåœ°å€  ç»‘å®šæœ¬æœºç«¯å£ å‡†å¤‡æ•°æ®  ç»„è£…æ•°æ®æŠ¥  å‘é€æ•°æ®æŠ¥
    }
}



```



```
æ‚¨å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚ğŸ˜Š

æ ¹æ®ç½‘ç»œæœç´¢ç»“æœï¼ŒSocket ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œç”¨æˆ·ç«¯å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆå®ç°åœ¨å®¢æˆ·ç«¯ä¸­å°±è§„å®šå¥½äº†æ•°æ®çš„å®¹é‡ï¼Œè€Œä¸æ˜¯åœ¨ç”¨æˆ·ç«¯ä¸­è§„å®šå¥½äº†æ•°æ®å®¹é‡ç„¶åå‘é€ç»™å®¢æˆ·ç«¯ï¼Œå¯èƒ½æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š

- Socket æ˜¯ä¸€ç§åº”ç”¨ç¨‹åºè®¿é—®é€šä¿¡åè®®çš„æ“ä½œç³»ç»Ÿè°ƒç”¨Â¹ï¼ŒçœŸæ­£æ‰§è¡Œç½‘ç»œé€šä¿¡åŠŸèƒ½çš„æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸Â¹ã€‚
- Socket å‘é€å’Œæ¥æ”¶æ•°æ®æ—¶ï¼Œéƒ½éœ€è¦ç»è¿‡æ“ä½œç³»ç»Ÿå†…æ ¸çš„ç¼“å†²åŒºÂ²Â³ï¼Œç¼“å†²åŒºçš„å¤§å°ä¼šå½±å“æ•°æ®ä¼ è¾“çš„æ•ˆç‡å’Œå¯é æ€§Â²Â³ã€‚
- å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®æ—¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªè¶³å¤Ÿå¤§çš„å­—èŠ‚æ•°ç»„æ¥å­˜å‚¨æ¥æ”¶åˆ°çš„æ•°æ®Â²Â³ï¼Œå¦‚æœå­—èŠ‚æ•°ç»„å¤ªå°ï¼Œåˆ™å¯èƒ½ä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼›å¦‚æœå­—èŠ‚æ•°ç»„å¤ªå¤§ï¼Œåˆ™å¯èƒ½æµªè´¹å†…å­˜ç©ºé—´ã€‚  (å®¢æˆ·ç«¯ç”¨ç¢—è£…ç”¨æˆ·ç«¯é€è¿‡æ¥çš„æ°´)
- ç”¨æˆ·ç«¯å‘é€æ•°æ®æ—¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦å‘é€ä»»æ„å¤§å°çš„æ•°æ®Â²Â³ï¼Œä½†æ˜¯ä¸èƒ½è¶…è¿‡æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºçš„æœ€å¤§é™åˆ¶Â²Â³ã€‚ç”¨æˆ·ç«¯å‘é€çš„æ•°æ®ä¼šè¢«åˆ†æˆå¤šä¸ª UDP æ•°æ®æŠ¥ï¼Œåœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°ä¸¢åŒ…ã€ä¹±åºç­‰é—®é¢˜Â²Â³ã€‚
- å› æ­¤ï¼Œåœ¨å®¢æˆ·ç«¯ä¸­è§„å®šå¥½äº†æ¥æ”¶æ•°æ®çš„å®¹é‡ï¼Œå¯ä»¥ä¿è¯æ¥æ”¶åˆ°å®Œæ•´çš„ç”¨æˆ·ç«¯å‘é€çš„æ•°æ®ï¼Œå¹¶ä¸”é¿å…æµªè´¹å†…å­˜ç©ºé—´ï¼›è€Œåœ¨ç”¨æˆ·ç«¯ä¸­è§„å®šå¥½äº†å‘é€æ•°æ®çš„å®¹é‡ï¼Œåˆ™æ²¡æœ‰å¿…è¦ï¼Œåªè¦ä¸è¶…è¿‡æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºçš„æœ€å¤§é™åˆ¶å³å¯ã€‚

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚ğŸ™

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/4(1) ä¸ä¸ºäººçŸ¥çš„ç½‘ç»œç¼–ç¨‹(åäº”)ï¼šæ·±å…¥æ“ä½œç³»ç»Ÿï¼Œä¸€æ–‡ææ‡‚Socketåˆ°åº•æ˜¯ä»€ä¹ˆ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘. https://cloud.tencent.com/developer/article/2232047 è®¿é—®æ—¶é—´ 2023/3/4.
(2) socketæ•°æ®åŒ…é™åˆ¶å¤§å°æ˜¯å¤šå°‘_socketæœ€å¤§ä¼ è¾“å¤§å°_å°kobeçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/qq_33632356/article/details/78780551 è®¿é—®æ—¶é—´ 2023/3/4.
(3) socketå‘é€ç¼“å­˜å’Œæ¥æ”¶ç¼“å­˜å¤§å°çš„è·å–å’Œè®¾ç½®_socketè®¾ç½®å‘é€ç¼“å­˜_æœ¨æœ¨å¤•æœ¨ç›®å¿ƒ.HDSçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/hdsHDS6/article/details/106800650 è®¿é—®æ—¶é—´ 2023/3/4.
```

### ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºï¼Ÿ

```
æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºæ˜¯ä¸€ç§ç”¨äºæé«˜ç½‘ç»œé€šä¿¡æ•ˆç‡å’Œå¯é æ€§çš„æŠ€æœ¯ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­ä¸ºæ¯ä¸ª Socket åˆ†é…ä¸€æ®µå†…å­˜ç©ºé—´ï¼Œç”¨äºæš‚å­˜å‘é€æˆ–æ¥æ”¶çš„æ•°æ®Â¹Â²Â³ã€‚

æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š

- æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºæ˜¯ Socket çš„ä¸€ä¸ªå±æ€§ï¼Œæ¯ä¸ª Socket éƒ½æœ‰è‡ªå·±çš„å‘é€ç¼“å†²åŒºå’Œæ¥æ”¶ç¼“å†²åŒºÂ¹Â²Â³ã€‚
- æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºçš„å¤§å°å¯ä»¥é€šè¿‡ Socket çš„é€‰é¡¹æ¥è®¾ç½®æˆ–è·å–Â¹Â²Â³ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œåè®®å¯èƒ½æœ‰ä¸åŒçš„é»˜è®¤å€¼å’Œé™åˆ¶Â¹Â²Â³ã€‚
- æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºä¸ç”¨æˆ·ç¼“å†²åŒºï¼ˆå³åº”ç”¨ç¨‹åºä¸­å®šä¹‰çš„å­—èŠ‚æ•°ç»„ï¼‰æ˜¯åˆ†å¼€çš„ï¼Œä¸¤è€…ä¹‹é—´éœ€è¦é€šè¿‡ read/write ç­‰ç³»ç»Ÿè°ƒç”¨æ¥è¿›è¡Œæ•°æ®ä¼ è¾“Â²Â³ã€‚
- æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºä¸åº•å±‚ IO è®¾å¤‡ï¼ˆå¦‚ç½‘å¡ï¼‰ä¹Ÿæ˜¯åˆ†å¼€çš„ï¼Œä¸¤è€…ä¹‹é—´éœ€è¦é€šè¿‡ä¸­æ–­æˆ– DMA ç­‰æœºåˆ¶æ¥è¿›è¡Œæ•°æ®ä¼ è¾“[^2 ^][ ^3 ^][ ^4 ^][ ^5 ^].
- æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºå¯ä»¥æé«˜ç½‘ç»œé€šä¿¡æ•ˆç‡å’Œå¯é æ€§ï¼Œå› ä¸ºå®ƒå¯ä»¥å®ç°æ•°æ®çš„æ‰¹é‡å¤„ç†ã€æµé‡æ§åˆ¶ã€æ‹¥å¡æ§åˆ¶ã€é‡ä¼ æœºåˆ¶ç­‰åŠŸèƒ½[^1 ^][ ^2 ^][ ^3 ^].

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚ğŸ™

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/4(1) 7socketç”¨æˆ·ç¼“å†²åŒºã€socketå†…æ ¸ç¼“å†²åŒºä¸tcpåè®®bufferï¼ˆæ»‘åŠ¨çª—å£ï¼‰çš„å…³ç³» - silyvin - åšå®¢å›­. https://www.cnblogs.com/silyvin/p/11996349.html è®¿é—®æ—¶é—´ 2023/3/4.
(2) å†…æ ¸ç¼“å†²åŒºä¸ç”¨æˆ·ç¼“å†²åŒº - lypbendlf - åšå®¢å›­. https://www.cnblogs.com/BlueBlueSea/p/14807245.html è®¿é—®æ—¶é—´ 2023/3/4.
(3) ä¸€æ–‡ææ‡‚ç”¨æˆ·ç¼“å†²åŒºä¸å†…æ ¸ç¼“å†²åŒº_è·¯ä¸Šçš„è¿½æ¢¦äººçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/Jiangtagong/article/details/108703123 è®¿é—®æ—¶é—´ 2023/3/4.
(4) Linux ä¸­çš„å†…å­˜ï¼ˆcacheï¼Œbufferï¼Œï¼‰ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/101258495 è®¿é—®æ—¶é—´ 2023/3/4.
(5) æ“ä½œç³»ç»Ÿç¼“å†²åŒºç®¡ç† - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/607429712 è®¿é—®æ—¶é—´ 2023/3/4.
(6) ç³»ç»Ÿè°ƒç”¨ã€ç”¨æˆ·ç¼“å†²åŒºã€å†…æ ¸ç¼“å†²åŒºã€åº•å±‚IOçŸ¥è¯†ç¬”è®° - æ˜é‡‘. https://juejin.cn/post/7085935695432269861 è®¿é—®æ—¶é—´ 2023/3/4.
```

## åœ¨ç”¨æˆ·ç«¯ä¼ é€æ•°æ®ç»™æœåŠ¡ç«¯çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆåœ¨ç”¨æˆ·ç«¯çš„ä»£ç ä¸­åˆ›å»º Socket åœ°å€ï¼Œè€Œåœ¨ æœåŠ¡ç«¯ä¸­åˆ›å»º Socketè¦ç»‘å®šåˆ°æœ¬æœºæŒ‡å®šçš„ç«¯å£ï¼Ÿ

```
ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œåœ¨ç”¨æˆ·ç«¯åˆ›å»º Socket åœ°å€æ˜¯ä¸ºäº†æŒ‡å®šè¦è¿æ¥çš„æœåŠ¡ç«¯çš„ä½ç½®ä¿¡æ¯ï¼Œåœ¨æœåŠ¡ç«¯ç»‘å®šæœ¬æœºåœ°å€æ˜¯ä¸ºäº†è®©ç”¨æˆ·ç«¯èƒ½å¤Ÿæ‰¾åˆ°å¹¶è¿æ¥åˆ°è‡ªå·±ã€‚è¿™æ ·å°±å¯ä»¥å»ºç«‹èµ·ä¸€ä¸ªåŒå‘çš„é€šä¿¡é€šé“ã€‚

æœåŠ¡ç«¯ åˆ›å»º ç«¯å£ PORT = 8888ï¼Œ
    private static final int PORT = 8888;

    public static void main(String[] args) throws IOException {
        // 1.åˆ›å»ºä¸€ä¸ªæœåŠ¡ç«¯DatagramSocketï¼Œ ï¼ˆï¼‰å†… ç»‘å®šåˆ°æœ¬æœºæŒ‡å®šçš„ç«¯å£ï¼Œç”¨äºå‘é€åŠæ¥æ”¶ UDP æ•°æ®æŠ¥
        DatagramSocket socket = new DatagramSocket(PORT);
        ...
        
        
ç”¨æˆ·ç«¯ ç»‘å®š ç«¯å£ï¼Œåˆ›é€  Socket åœ°å€
public class UdpClient {
    private static final SocketAddress ADDRESS = new InetSocketAddress("localhost",8888);
    // InetSocketAddress æ˜¯ SocketAddress çš„å­ç±»ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ª Socket åœ°å€
    public static void main(String[] args) throws IOException {
        // åˆ›å»ºå®¢æˆ·ç«¯ DatagramSocket å¥—æ¥å­—ï¼Œç»‘å®šåˆ°æœ¬æœºä»»æ„ä¸€ä¸ªéšæœºç«¯å£
        DatagramSocket socket = new DatagramSocket();
        ...

è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ã€‚ğŸ˜Š

ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·ç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰å’ŒæœåŠ¡ç«¯ï¼ˆæœåŠ¡å™¨ï¼‰åœ¨åˆ›å»º Socket è¿æ¥æ—¶ï¼Œéœ€è¦éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

- ç”¨æˆ·ç«¯ï¼š
  - åˆ›å»ºä¸€ä¸ª Socket å¯¹è±¡ï¼ŒæŒ‡å®šåè®®ç±»å‹ï¼ˆå¦‚ TCP æˆ– UDPï¼‰ã€åœ°å€æ—ï¼ˆå¦‚ IPv4 æˆ– IPv6ï¼‰ç­‰å‚æ•°Â²Â³ã€‚
  - è®¾ç½® Socket çš„å±æ€§ï¼Œå¦‚è¶…æ—¶æ—¶é—´ã€ç¼“å†²åŒºå¤§å°ç­‰Â²Â³ã€‚
  - è®¾ç½®è¦è¿æ¥çš„æœåŠ¡ç«¯çš„ IP åœ°å€å’Œç«¯å£å·Â²Â³ã€‚
  - è°ƒç”¨ connect() æ–¹æ³•ï¼Œå‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚Â²Â³ã€‚
- æœåŠ¡ç«¯ï¼š
  - åˆ›å»ºä¸€ä¸ª Socket å¯¹è±¡ï¼ŒæŒ‡å®šåè®®ç±»å‹ã€åœ°å€æ—ç­‰å‚æ•°[^1 ^][ ^2 ^][ ^3 ^].
  - è®¾ç½® Socket çš„å±æ€§ï¼Œå¦‚è¶…æ—¶æ—¶é—´ã€ç¼“å†²åŒºå¤§å°ç­‰[^1 ^][ ^2 ^][ ^3 ^].
  - è°ƒç”¨ bind() æ–¹æ³•ï¼Œå°† Socket ç»‘å®šåˆ°æœ¬æœºçš„ä¸€ä¸ª IP åœ°å€å’Œç«¯å£å·ä¸Š[^1 ^][ ^2 ^][ ^3 ^].
  - è°ƒç”¨ listen() æ–¹æ³•ï¼Œå¼€å¯ç›‘å¬æ¨¡å¼ï¼Œç­‰å¾…ç”¨æˆ·ç«¯çš„è¿æ¥è¯·æ±‚[^1 ^][ ^2 ^][ ^3 ^].
  - è°ƒç”¨ accept() æ–¹æ³•ï¼Œæ¥å—ç”¨æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Socket å¯¹è±¡ï¼Œç”¨äºä¸è¯¥ç”¨æˆ·ç«¯è¿›è¡Œé€šä¿¡[^1 ^][ ^2 ^][^ 3^].

ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œåœ¨ç”¨æˆ·ç«¯åˆ›å»º Socket åœ°å€æ˜¯ä¸ºäº†æŒ‡å®šè¦è¿æ¥çš„æœåŠ¡ç«¯çš„ä½ç½®ä¿¡æ¯ï¼Œåœ¨æœåŠ¡ç«¯ç»‘å®šæœ¬æœºåœ°å€æ˜¯ä¸ºäº†è®©ç”¨æˆ·ç«¯èƒ½å¤Ÿæ‰¾åˆ°å¹¶è¿æ¥åˆ°è‡ªå·±ã€‚è¿™æ ·å°±å¯ä»¥å»ºç«‹èµ·ä¸€ä¸ªåŒå‘çš„é€šä¿¡é€šé“ã€‚

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚ğŸ™

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/4(1) socketæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„å»ºç«‹æ­¥éª¤_å­¦æµ·å°èœé¸Ÿçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/a58220655/article/details/46534425 è®¿é—®æ—¶é—´ 2023/3/4.
(2) C# socketâ€”â€”ç®€å•çš„TCP æœåŠ¡ç«¯-å®¢æˆ·ç«¯ è¿æ¥é€šä¿¡ - å¥½Wuèµ– - åšå®¢å›­. https://www.cnblogs.com/erlongxizhu-03/p/12470457.html è®¿é—®æ—¶é—´ 2023/3/4.
(3) C# socketâ€”â€”ç®€å•çš„TCP æœåŠ¡ç«¯-å®¢æˆ·ç«¯ è¿æ¥é€šä¿¡ - å¥½Wuèµ– - åšå®¢å›­. https://bing.com/search?q=%e7%94%a8%e6%88%b7%e7%ab%af%e5%88%9b%e5%bb%ba+Socket+%e5%9c%b0%e5%9d%80+%e6%9c%8d%e5%8a%a1%e7%ab%af%e7%bb%91%e5%ae%9a%e6%9c%ac%e6%9c%ba%e7%ab%af%e5%8f%a3 è®¿é—®æ—¶é—´ 2023/3/4.
(4) å¦‚ä½•åˆ›å»ºä¸€ä¸ªSocketè¿æ¥_åˆ›å»ºsocketè¿æ¥_maizhushuçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/maizhushu/article/details/89093513 è®¿é—®æ—¶é—´ 2023/3/4.
```

![image-20230304112802886](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230304112802886.png)

## UDP Client å’Œ UDP Server

```java
public class HMUdpClient {
    /*æ„å»ºUdpç”¨æˆ·ç«¯å“åº”*/
    // é¦–å…ˆç¡®å®š æœåŠ¡ç«¯çš„ Socket åœ°å€
    private static final SocketAddress ADDRESS = new InetSocketAddress("localhost",8887);
```

![image-20230306110256247](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230306110256247.png)

```
ä»€ä¹ˆæ˜¯ socket åœ°å€

æ‚¨å¥½ï¼Œè¿™æ˜¯Bingã€‚ğŸ˜Š

æ ¹æ®ç½‘ç»œæœç´¢ç»“æœï¼Œsocketåœ°å€æ˜¯ä¸€ç§ç”¨äºæ ‡è¯†ç½‘ç»œä¸Šçš„ä¸€ä¸ªç«¯ç‚¹çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«äº†åè®®æ—ã€IPåœ°å€å’Œç«¯å£å·ç­‰ä¿¡æ¯Â¹Â²ã€‚ä¸åŒçš„åè®®æ—å†³å®šäº†ä¸åŒçš„socketåœ°å€ç±»å‹ï¼Œå¦‚AF_INETå¯¹åº”IPv4åœ°å€ï¼ŒAF_UNIXå¯¹åº”ç»å¯¹è·¯å¾„åÂ¹ã€‚socketåœ°å€é€šå¸¸éœ€è¦è½¬æ¢æˆé€šç”¨çš„sockaddrç»“æ„ä½“æ¥ä½¿ç”¨åœ¨socketç¼–ç¨‹çš„APIä¸­â´âµã€‚

å¸Œæœ›è¿™èƒ½å›ç­”æ‚¨çš„é—®é¢˜ã€‚

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/6(1) è¶…è¯¦ç»†çš„Socketé€šä¿¡åŸç†å’Œå®ä¾‹è®²è§£ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/100151937 è®¿é—®æ—¶é—´ 2023/3/6.
(2) ã€socketç½‘ç»œç¼–ç¨‹ã€‘_*é—²é±¼çš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/m0_56246173/article/details/129236807 è®¿é—®æ—¶é—´ 2023/3/6.
(3) ç½‘ç»œç¼–ç¨‹åŸºç¡€â€”SocketåŸºç¡€ç»“æ„ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/376298319 è®¿é—®æ—¶é—´ 2023/3/6.
(4) C++çš„socketåœ°å€è¯¦è§£_c++ socket ipåœ°å€_chengqiumingçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/chengqiuming/article/details/89342594 è®¿é—®æ—¶é—´ 2023/3/6.
(5) socketå’Œsockaddrä»¥åŠsockaddr_in_socketä¸sockaddrçš„å…³ç³»_é˜¿æ³½1024çš„åšå®¢-CSDN .... https://blog.csdn.net/wuxiaoze_/article/details/121454758 è®¿é—®æ—¶é—´ 2023/3/6.
```

è¿™æ˜¯ä¸€ä¸ªJavaä»£ç ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªInetSocketAddresså¯¹è±¡ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªIPåœ°å€å’Œç«¯å£å·çš„ç»„åˆã€‚ä»£ç çš„æ¯ä¸€è¡Œçš„å¤‡æ³¨å¦‚ä¸‹ï¼š

```java
//å®šä¹‰ä¸€ä¸ªå…¬å…±çš„æ„é€ æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªä¸»æœºåå’Œä¸€ä¸ªç«¯å£å·ä½œä¸ºå‚æ•°
public InetSocketAddress(String hostname, int port) {
        //è°ƒç”¨checkHostæ–¹æ³•ï¼Œæ£€æŸ¥ä¸»æœºåæ˜¯å¦ä¸ºç©ºæˆ–å¤ªé•¿
        checkHost(hostname);
        //å£°æ˜ä¸€ä¸ªInetAddresså˜é‡ï¼Œç”¨äºå­˜å‚¨IPåœ°å€
        InetAddress addr = null;
        //å£°æ˜ä¸€ä¸ªStringå˜é‡ï¼Œç”¨äºå­˜å‚¨ä¸»æœºå
        String host = null;
        try {
            //å°è¯•é€šè¿‡ä¸»æœºåè·å–IPåœ°å€ï¼Œå¹¶èµ‹å€¼ç»™addrå˜é‡
            addr = InetAddress.getByName(hostname);
        } catch(UnknownHostException e) {
            //å¦‚æœå‘ç”ŸæœªçŸ¥ä¸»æœºå¼‚å¸¸ï¼Œè¯´æ˜æ— æ³•è§£æä¸»æœºåï¼Œé‚£ä¹ˆå°†ä¸»æœºåèµ‹å€¼ç»™hostå˜é‡
            host = hostname;
        }
        //åˆ›å»ºä¸€ä¸ªInetSocketAddressHolderå¯¹è±¡ï¼Œå®ƒæ˜¯InetSocketAddressçš„å†…éƒ¨ç±»ï¼Œç”¨äºå°è£…hostã€addrå’Œportä¸‰ä¸ªå±æ€§ï¼Œå¹¶èµ‹å€¼ç»™holderå˜é‡
        holder = new InetSocketAddressHolder(host, addr, checkPort(port));
    }
```

![image-20230306110306013](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230306110306013.png)



## ä»£ç åœ¨è¿è¡Œçš„æ—¶å€™è¾“å…¥æ²¡æœ‰ååº”çš„åŸå› 

```
ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚ä½ çš„ä»£ç æ˜¯ç”¨Javaç¼–å†™çš„ï¼Œç”¨äºå‘é€å’Œæ¥æ”¶UDPæ•°æ®æŠ¥ã€‚ä½ çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆè¾“å…¥ / æ²¡æœ‰ååº”ã€‚æˆ‘çŒœæµ‹å¯èƒ½çš„åŸå› æœ‰ä»¥ä¸‹å‡ ç§ï¼š

ä½ æ²¡æœ‰åœ¨æœåŠ¡ç«¯è¿è¡Œä¸€ä¸ªUDPæœåŠ¡å™¨ç¨‹åºï¼Œç›‘å¬8888ç«¯å£ã€‚
ä½ çš„æœåŠ¡ç«¯ç¨‹åºæ²¡æœ‰æ­£ç¡®å¤„ç† / ä½œä¸ºè¯·æ±‚å‚æ•°ï¼Œå¹¶è¿”å›å“åº”æ•°æ®æŠ¥ã€‚
ä½ çš„å®¢æˆ·ç«¯ç¨‹åºæ²¡æœ‰æ­£ç¡®è§£æå“åº”æ•°æ®æŠ¥ï¼Œå¹¶æ‰“å°å‡ºç»“æœã€‚
ä½ çš„ç½‘ç»œè¿æ¥æœ‰é—®é¢˜ï¼Œå¯¼è‡´UDPæ•°æ®æŠ¥ä¸¢å¤±æˆ–å»¶è¿Ÿã€‚
ä½ å¯ä»¥å°è¯•ä»¥ä¸‹æ–¹æ³•æ¥æ’æŸ¥é—®é¢˜ï¼š

æ£€æŸ¥æœåŠ¡ç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œå¹¶ç›‘å¬8888ç«¯å£ã€‚
åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä½¿ç”¨ç½‘ç»œæŠ“åŒ…å·¥å…·ï¼Œå¦‚Wiresharkï¼Œæ¥è§‚å¯ŸUDPæ•°æ®æŠ¥çš„å‘é€å’Œæ¥æ”¶æƒ…å†µã€‚
åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç¨‹åºä¸­æ·»åŠ æ—¥å¿—æˆ–æ–­ç‚¹ï¼Œæ¥è·Ÿè¸ªä»£ç æ‰§è¡Œæµç¨‹å’Œå˜é‡å€¼
```

##  getInetAddress()  ä¸­çš„ Inet æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

```
æ‚¨å¥½ï¼Œè¿™æ˜¯Bingã€‚æˆ‘å¯ä»¥å¸®æ‚¨è§£ç­”ã€‚ğŸ˜Š

getInetAddress() ä¸­çš„ Inet æ˜¯æŒ‡ Internet çš„ç¼©å†™ï¼Œè¡¨ç¤ºå› ç‰¹ç½‘çš„æ„æ€ã€‚getInetAddress() æ˜¯ä¸€ä¸ª Java æ–¹æ³•ï¼Œç”¨äºè·å–ä¸€ä¸ª InetAddress å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«è¿œç¨‹è®¡ç®—æœºçš„ IP åœ°å€Â²ã€‚IP åœ°å€æ˜¯ä¸€ç§ç”¨äºæ ‡è¯†å› ç‰¹ç½‘ä¸Šæ¯ä¸ªè®¾å¤‡çš„æ•°å­—åœ°å€Â³ã€‚

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/9(1) getHostAddressï¼ˆï¼‰å’ŒgetInetAddressï¼ˆåœ¨Javaä¸­ï¼‰. https://blog.csdn.net/cookie_friends/article/details/52292641 è®¿é—®æ—¶é—´ 2023/3/9.
(2) Javaä½¿ç”¨InetAddressç±»è·å–ä¸»æœºåå’ŒIPåœ°å€_getallbyname .... https://blog.csdn.net/u012561176/article/details/48183181 è®¿é—®æ—¶é—´ 2023/3/9.
(3) Javaä¸­InetAddressçš„ä½¿ç”¨(äºŒ)ï¼šè·å–æœ¬æœºIPåœ°å€çš„æ­£ç¡®å§¿åŠ¿ .... https://cloud.tencent.com/developer/article/1610919 è®¿é—®æ—¶é—´ 2023/3/9.
```

## UDP çš„ æ•°æ®æŠ¥ä¼ è¾“ å’Œ TCP çš„è¾“å…¥è¾“å‡ºæµä¼ è¾“çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

```
UDP çš„æ•°æ®æŠ¥ä¼ è¾“å’Œ TCP çš„è¾“å…¥è¾“å‡ºæµä¼ è¾“çš„åŒºåˆ«ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹Â¹Â²Â³ï¼š

- UDP æ˜¯æ— è¿æ¥çš„ï¼ŒTCP æ˜¯æœ‰è¿æ¥çš„ã€‚è¿™æ„å‘³ç€ UDP å‘é€æ•°æ®å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œè€Œ TCP éœ€è¦å…ˆè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ã€‚
- UDP ä¸ä¿è¯æ•°æ®çš„å¯é æ€§ï¼ŒTCP ä¿è¯æ•°æ®çš„å¯é æ€§ã€‚è¿™æ„å‘³ç€ UDP ä¼ è¾“é€”ä¸­å‡ºç°ä¸¢åŒ…æˆ–ä¹±åºæ—¶ä¸ä¼šé‡å‘æˆ–çº æ­£ï¼Œè€Œ TCP ä¼šé€šè¿‡ç¡®è®¤ã€é‡ä¼ ã€çª—å£ç­‰æœºåˆ¶æ¥ç¡®ä¿æ•°æ®å®Œæ•´æ— è¯¯åœ°åˆ°è¾¾ç›®çš„åœ°ã€‚
- UDP æ˜¯é¢å‘æ•°æ®æŠ¥çš„ï¼ŒTCP æ˜¯é¢å‘å­—èŠ‚æµçš„ã€‚è¿™æ„å‘³ç€ UDP æ¯ä¸ªè¢«ä¼ è¾“çš„æ•°æ®å¿…é¡»é™å®šåœ¨64KBä¹‹å†…ï¼Œå¹¶ä¸”æŒ‰ç…§åŸæ ·å‘é€å’Œæ¥æ”¶ï¼Œè€Œ TCP å¯ä»¥ä¼ è¾“ä»»æ„å¤§å°çš„æ•°æ®ï¼Œå¹¶ä¸”ä¼šå¯¹æ•°æ®è¿›è¡Œæ‹†åˆ†å’Œæ‹¼æ¥ã€‚
- UDP çš„å¼€é”€å°ï¼Œé€Ÿåº¦å¿«ï¼ŒTCP çš„å¼€é”€å¤§ï¼Œé€Ÿåº¦æ…¢ã€‚è¿™æ˜¯å› ä¸º UDP ä¸éœ€è¦ç»´æŠ¤è¿æ¥çŠ¶æ€å’Œå¤æ‚çš„æ§åˆ¶é€»è¾‘ï¼Œè€Œ TCP éœ€è¦æ¶ˆè€—æ›´å¤šçš„èµ„æºå’Œæ—¶é—´æ¥ä¿è¯å¯é æ€§ã€‚

UDP å’Œ TCP çš„åº”ç”¨åœºæ™¯ä¹Ÿä¸åŒã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒUDP é€‚åˆé‚£äº›å¯¹å®æ—¶æ€§è¦æ±‚é«˜ã€å¯¹å¯é æ€§è¦æ±‚ä½ã€æˆ–è€…èƒ½å¤Ÿå®¹å¿ä¸€å®šç¨‹åº¦çš„æ•°æ®ä¸¢å¤±æˆ–é”™è¯¯çš„åº”ç”¨ï¼Œä¾‹å¦‚è§†é¢‘é€šè¯ã€åœ¨çº¿æ¸¸æˆã€ç›´æ’­ç­‰ã€‚TCP é€‚åˆé‚£äº›å¯¹å¯é æ€§è¦æ±‚é«˜ã€å¯¹å®æ—¶æ€§è¦æ±‚ä½ã€æˆ–è€…ä¸èƒ½å®¹å¿ä»»ä½•æ•°æ®ä¸¢å¤±æˆ–é”™è¯¯çš„åº”ç”¨ï¼Œä¾‹å¦‚æ–‡ä»¶ä¼ è¾“ã€ç½‘é¡µæµè§ˆã€ç”µå­é‚®ä»¶ç­‰ã€‚

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/9(1) TCPæŠ¥æ–‡æ®µã€UDPæ•°æ®æŠ¥ã€IPæ•°æ®æŠ¥åŒºåˆ«_ipæ•°æ®æŠ¥å’Œudpæ•°æ® .... https://blog.csdn.net/marvie_xie/article/details/49748603 è®¿é—®æ—¶é—´ 2023/3/9.
(2) TCP vs UDPâ€”â€”å“ªä¸ªåè®®æ›´å¿«ï¼Ÿ. https://www.freecodecamp.org/chinese/news/tcp-vs-udp-which-is-faster/ è®¿é—®æ—¶é—´ 2023/3/9.
(3) UDPå’ŒTCPä¼ è¾“æ•°æ®çš„æ–¹å¼æœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„?_ä¸€æ›²æ— ç—•å¥ˆä½• .... https://blog.csdn.net/qq_41479464/article/details/94481476 è®¿é—®æ—¶é—´ 2023/3/9.
(4) ç½‘ç»œç¼–ç¨‹---TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰ä¸UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥ï¼‰. https://blog.csdn.net/shangzhi123/article/details/107801981 è®¿é—®æ—¶é—´ 2023/3/9.
(5) é¢è¯•å®˜ï¼šè¯´è¯´UDPå’ŒTCPçš„åŒºåˆ«åŠåº”ç”¨åœºæ™¯ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/108579426 è®¿é—®æ—¶é—´ 2023/3/9.
(6) ä¸€æ–‡ææ‡‚TCPä¸UDPçš„åŒºåˆ« - Fundebug - åšå®¢å›­. https://www.cnblogs.com/fundebug/p/differences-of-tcp-and-udp.html è®¿é—®æ—¶é—´ 2023/3/9.
```

## UDP è¢«ä¼ è¾“æ•°æ®é™å®šåœ¨64KBï¼Œ64KBæ˜¯æ€ä¹ˆå¾—æ¥çš„ï¼Ÿ

```
UDP è¢«ä¼ è¾“æ•°æ®é™å®šåœ¨64KBçš„åŸå› æ˜¯ç”±äº IP æ•°æ®æŠ¥çš„å¤§å°é™åˆ¶ã€‚IP æ•°æ®æŠ¥çš„é¦–éƒ¨å ç”¨20å­—èŠ‚ï¼Œè€Œ IP æ•°æ®æŠ¥çš„æ€»é•¿åº¦å­—æ®µæ˜¯16ä½ï¼Œæœ€å¤§å€¼ä¸º65535ï¼Œæ‰€ä»¥ IP æ•°æ®æŠ¥çš„æœ€å¤§é•¿åº¦ä¸º65535-20=65515å­—èŠ‚ã€‚ä½†æ˜¯ï¼Œç”±äºä¸åŒçš„ç½‘ç»œå¯èƒ½æœ‰ä¸åŒçš„æœ€å¤§ä¼ è¾“å•å…ƒï¼ˆMTUï¼‰ï¼Œå¦‚æœ IP æ•°æ®æŠ¥è¶…è¿‡äº† MTUï¼Œå°±ä¼šè¢«åˆ†ç‰‡ï¼ˆfragmentationï¼‰ï¼Œè¿™ä¼šå¢åŠ ä¼ è¾“å¼€é”€å’Œå‡ºé”™æ¦‚ç‡ã€‚ä¸ºäº†é¿å…åˆ†ç‰‡ï¼Œä¸€èˆ¬å»ºè®® IP æ•°æ®æŠ¥çš„é•¿åº¦ä¸è¶…è¿‡1500å­—èŠ‚âµã€‚

UDP é¦–éƒ¨å ç”¨8å­—èŠ‚ï¼Œæ‰€ä»¥ UDP æ•°æ®æŠ¥çš„æœ€å¤§é•¿åº¦ä¸º1500-20-8=1472å­—èŠ‚ã€‚ä½†æ˜¯ï¼Œå¦‚æœ UDP æ•°æ®æŠ¥è¶…è¿‡äº†1472å­—èŠ‚ï¼Œä¹Ÿå¯ä»¥å‘é€ï¼Œåªæ˜¯ä¼šè¢«åˆ†ç‰‡æˆå¤šä¸ª IP æ•°æ®æŠ¥ã€‚è¿™æ—¶å€™ UDP çš„æ•°æ®é•¿åº¦å­—æ®µå°±å¯ä»¥è¾¾åˆ°65515-20-8=65487å­—èŠ‚âµã€‚

æ‰€ä»¥ï¼ŒUDP è¢«ä¼ è¾“æ•°æ®é™å®šåœ¨64KBæ˜¯ä¸€ä¸ªä¿å®ˆçš„ä¼°è®¡ï¼Œå®é™…ä¸Šå¯ä»¥å‘é€æ›´å¤§çš„æ•°æ®Â¹Â²Â³â´ã€‚

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/9(1) TCPã€UDPæ•°æ®åŒ…å¤§å°çš„é™åˆ¶ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/468439711 è®¿é—®æ—¶é—´ 2023/3/9.
(2) pythonç½‘ç»œ-Socketä¹‹udpç¼–ç¨‹(24) - Se7eN_HOU - åšå®¢å›­. https://www.cnblogs.com/Se7eN-HOU/p/10742148.html è®¿é—®æ—¶é—´ 2023/3/9.
(3) pythonç½‘ç»œ-Socketä¹‹udpç¼–ç¨‹(24) - Se7eN_HOU - åšå®¢å›­. https://www.cnblogs.com/Se7eN-HOU/p/10742148.html è®¿é—®æ—¶é—´ 2023/3/9.
(4) ä¸åŒç«¯å£é—´çš„ä¿¡æ¯äº¤æ¢-ä½¿ç”¨udpåè®®_HPF4212çš„åšå®¢-CSDN .... https://blog.csdn.net/hanxia159357/article/details/81697481 è®¿é—®æ—¶é—´ 2023/3/9.
(5) Socketçš„UDPå®ä¾‹_udpsocket.any()_å¥‡å¥‡NNLLçš„åšå®¢ .... https://blog.csdn.net/qq_32952789/article/details/104019041 è®¿é—®æ—¶é—´ 2023/3/9.
(6) Javaç½‘ç»œç¼–ç¨‹â€”â€”UDPé€šä¿¡åŸç†ï¼ˆè¶…è¯¦ç»†è§£æä¸€çœ‹å°±æ‡‚å“¦ .... https://blog.csdn.net/weixin_45851945/article/details/114212381 è®¿é—®æ—¶é—´ 2023/3/9.
```

## ä¸ºä»€ä¹ˆTCPï¼ŒUDP å¥—æ¥å­—æœåŠ¡å™¨ç«¯éœ€è¦ç»‘å®šç«¯å£å·ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦ï¼Ÿ

![image-20230309194117531](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230309194117531.png)

## tcp å®¢æˆ·ç«¯ ç›¸æ¯”äº tcp æœåŠ¡ç«¯ ä¸ºä»€ä¹ˆåœ¨åˆ›å»º æµå¥—æ¥å­—Socket çš„æ—¶å€™ï¼Œè¦å¤šç»‘å®šä¸€ä¸ªHOSTï¼ˆæœåŠ¡ç«¯IPï¼‰: Socket client = new Socket(SERVER_HOST,SERVER_PORT);ServerSocket server = new ServerSocket(PORT);

```
æ‚¨å¥½ï¼Œè¿™æ˜¯Bingã€‚ğŸ˜Š

æ ¹æ®ç½‘ç»œæœç´¢ç»“æœÂ¹Â²Â³ï¼ŒTCPå®¢æˆ·ç«¯åœ¨åˆ›å»ºæµå¥—æ¥å­—Socketçš„æ—¶å€™ï¼Œè¦å¤šç»‘å®šä¸€ä¸ªHOSTï¼Œæ˜¯å› ä¸ºå®¢æˆ·ç«¯éœ€è¦æŒ‡å®šè¦è¿æ¥çš„æœåŠ¡å™¨çš„IPåœ°å€å’Œç«¯å£å·ã€‚è€ŒæœåŠ¡å™¨ç«¯åªéœ€è¦ç»‘å®šè‡ªå·±çš„ç«¯å£å·ï¼Œå°±å¯ä»¥ç›‘å¬æ¥è‡ªä»»ä½•å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ã€‚

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/9(1) æµ…è°ˆTCP/IPçš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„å·¥ä½œåŸç†_å®¢æˆ·ç«¯å·¥ä½œåŸç† .... https://blog.csdn.net/qq_43518274/article/details/105517645 è®¿é—®æ—¶é—´ 2023/3/9.
(2) TCPé€šä¿¡ç¨‹åºï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œé™„è¯¦ç»†æ­¥éª¤ï¼‰_Fmm-PMO .... https://blog.csdn.net/weixin_45845039/article/details/106975936 è®¿é—®æ—¶é—´ 2023/3/9.
(3) TCPåè®®çš„æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯çš„ç¨‹åºè®¾è®¡ï¼ˆä»£ç æ³¨é‡Šè¶…è¯¦ç»†ï¼‰. https://blog.csdn.net/qq_45829112/article/details/122300242 è®¿é—®æ—¶é—´ 2023/3/9.
```

### ä¸ºä»€ä¹ˆæœåŠ¡ç«¯åªéœ€è¦ç»‘å®šè‡ªå·±çš„ç«¯å£å·ï¼Œè€Œå®¢æˆ·ç«¯é™¤äº†ç»‘å®šæœåŠ¡ç«¯çš„ç«¯å£å·ä¹‹å¤–è¿˜è¦ç»‘å®šå®¢æˆ·ç«¯IPåœ°å€ï¼ˆä¸æ˜¯è‡ªå·±çš„IPåœ°å€ï¼‰ï¼Œæ˜¯å› ä¸ºä¼šæœ‰å¤šä¸ªå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘é€æ•°æ®ï¼Œå®¢æˆ·ç«¯å°±åƒåº—é“ºä¸€æ ·ï¼Œè€ŒæœåŠ¡ç«¯å°±åƒé¡¾å®¢ä¸€æ ·å—ï¼Ÿ



# è¯¾å ‚ç¬”è®°

ç½‘ç»œç¼–ç¨‹å¥—æ¥å­—ï¼Œå°±æ˜¯ç ”ç©¶å¦‚ä½•å†™ä»£ç å®Œæˆç½‘ç»œç¼–ç¨‹

socketå¥—æ¥å­— æ˜¯ æ“ä½œç³»ç»Ÿç»™åº”ç”¨ç¨‹åºæä¾›çš„API

åº”ç”¨å±‚ å’Œ ä¼ è¾“å±‚ ä¹‹é—´ä¼šè¿›è¡Œäº¤äº’

API å…¶å®ä¹Ÿå°±æ˜¯ä¼ è¾“å±‚ç»™åº”ç”¨å±‚æä¾›ç”¨äºäº¤äº’çš„

ç½‘ç»œä¼ è¾“å±‚ä¸­ï¼Œä¼šæœ‰å¾ˆå¤šåè®®ï¼Œå…¶ä¸­æœ€çŸ¥åçš„ï¼Œå°±æ˜¯ TCP å’Œ UDP

å› ä¸ºè¿™ä¸¤ç§åè®®å·®è·æ¯”è¾ƒå¤§ï¼Œå› æ­¤æ“ä½œç³»ç»Ÿå°±æä¾›äº†ä¸¤ä¸ªç‰ˆæœ¬ï¼Œé£æ ¼è¿¥å¼‚çš„ API

```
TCP å’Œ UDP ä¹‹é—´çš„åŒºåˆ«
TCP				   
æœ‰è¿æ¥ï¼šæ‰“ç”µè¯ï¼Œé€šä¿¡åŒæ–¹è¦å»ºç«‹å¥½è¿æ¥ï¼Œæ‰èƒ½é€šä¿¡ï¼ˆäº¤äº’æ•°æ®ï¼‰
Aç»™Bæ‰“ç”µè¯ï¼ŒBå¾—æ¥äº†ï¼Œæ‰èƒ½è¯´è¯
å¯é ä¼ è¾“ï¼šä¸æ˜¯è¯´Aç»™Bå‘çš„æ•°æ®ï¼Œ100%éƒ½èƒ½è®©Bæ”¶åˆ°ï¼ˆç½‘ç»œç¯å¢ƒéå¸¸å¤æ‚ï¼Œæ— æ³•ç»™å‡º100%çš„æ‰¿è¯ºï¼‰å¯é æŒ‡çš„æ˜¯ï¼šAèƒ½å¤ŸçŸ¥é“ B æ˜¯ä¸æ˜¯æ”¶åˆ°çš„ä¿¡æ¯ï¼Œåƒå’¸é±¼èŠå¤©çª—å£å°±æ˜¯å¯é èŠå¤©ï¼ˆï¼Ÿ
é¢å‘å­—èŠ‚æµï¼šIO çš„æ—¶å€™ä»‹ç»è¿‡äº†ï¼ŒTCPå’Œæ–‡ä»¶æ“ä½œä¸€æ ·ï¼Œä¹Ÿæ˜¯åŸºäºæµçš„
å…¨åŒå·¥ï¼šå…¨åŒå·¥ç›¸å¯¹çš„è¯å«åš åŠåŒå·¥ï¼›å…¨åŒå·¥ï¼šä¸€ä¸ªé€šé“ï¼ŒåŒå‘é€šä¿¡ï¼›åŠåŒå·¥ï¼šä¸€ä¸ªé€šé“ï¼Œå•å‘é€šä¿¡ ï¼ˆç»™é©¬é€è¯çš„ç®¡å­ï¼Œæ˜¯åŠåŒå·¥çš„ï¼Œé˜²æ­¢é©¬å¹æ°”æŠŠè¯é€åˆ°äººçš„å˜´é‡Œé¢ï¼‰
ç½‘ç»œé€šä¿¡ä¸€èˆ¬éƒ½æ˜¯å…¨åŒå·¥çš„
ä¸€æ ¹ç½‘çº¿ï¼Œä¸ºå•¥èƒ½å¤ŸåŒå‘é€šä¿¡ï¼Œè¿˜ä¸å¹²æ‰°ï¼Ÿï¼ˆå¯ä»¥åŒæ—¶ä¸Šä¼ /ä¸‹è½½ï¼‰
ç½‘çº¿é‡Œé¢å…¶å®ä¸æ˜¯ä¸€æ ¹çº¿ï¼ˆæ˜¯ 8 æ ¹ï¼Œåˆ†æˆä¸¤ç»„ï¼Œå…¶å®æ¥å››æ ¹å°±èƒ½ç”¨ï¼Œä¸¤ä¸ªè¿›ï¼Œä¸¤ä¸ªå‡ºï¼‰
UDP
æ— è¿æ¥ï¼šå‘çŸ­ä¿¡/å¾®ä¿¡
ç›´æ¥ä¸€å‘å°±è¿‡å»äº†ï¼Œæ²¡æœ‰å®æ—¶è¿æ¥æ€§
ä¸å¯é ä¼ è¾“
é¢å‘å­—ç¬¦æµï¼šä»¥â€œæ•°æ®æŠ¥â€ä¸ºåŸºæœ¬å•ä½ï¼Œæ²¡æœ‰å­—èŠ‚æµé‚£ä¹ˆçµæ´»äº†
å…¨åŒå·¥
```



### UDPç‰ˆæœ¬çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç¨‹åº

```
UDP socket è¦æŒæ¡çš„ç±»
1.DatagramSocket
2.DatagramPacket --ã€‹ æ•°æ®æŠ¥
```

```
DatagramSocketæ„é€ æ–¹æ³•ï¼š
DatagramSocket() ä¸€èˆ¬ç”¨äºå®¢æˆ·ç«¯ï¼Œç»‘å®šåˆ° *æœ¬æœº ä»»æ„* ä¸€ä¸ªéšæœºç«¯å£
DatagramSocket(int port()) ä¸€èˆ¬ç”¨äºæœåŠ¡å™¨ï¼Œç»‘å®šåˆ° *æœ¬æœº æŒ‡å®š* çš„ç«¯å£, ç„¶å å®¢æˆ·ç«¯ å¯ä»¥é€šè¿‡ç«¯å£è®¿é—®å®¢æˆ·ç«¯

DatagramSocketå®ä¾‹æ–¹æ³•ï¼š
void receive(DatagramPacket p) ä»æ­¤å¥—æ¥å­—æ¥æ”¶æ•°æ®æŠ¥ï¼ˆå¦‚æœæ²¡æœ‰æ¥æ”¶åˆ°æ•°æ®æŠ¥ï¼Œè¯¥æ–¹æ³•å°±ä¼šé˜»å¡ç­‰å¾…ï¼‰
void send(DatagramPacket p)  ä»æ­¤å¥—æ¥å­—å‘é€æ•°æ®æŠ¥ï¼ˆä¸ä¼šé˜»å¡ç­‰å¾…ï¼Œç›´æ¥å‘é€)
void close() å…³é—­æ­¤æ•°æ®æŠ¥å¥—æ¥å­—

receiveã€sendã€close
å’Œæ–‡ä»¶æ“ä½œ:å…ˆæ‰“å¼€æ–‡ä»¶ï¼Œç„¶åè¯»æ–‡ä»¶/å†™æ–‡ä»¶ï¼Œæœ€åå…³é—­æ–‡ä»¶ å¾ˆåƒ
```

```
socket æœ¬è´¨ä¸Šä¹Ÿæ˜¯æ–‡ä»¶ï¼Œç‹­ä¹‰çš„æ–‡ä»¶æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œå¹¿ä¹‰çš„æ–‡ä»¶ï¼Œæ“ä½œç³»ç»ŸæŠŠå„ç§ç¡¬ä»¶è®¾å¤‡å’Œè½¯ä»¶èµ„æºä¹Ÿéƒ½æŠ½è±¡æˆæ–‡ä»¶äº†ï¼Œç»Ÿä¸€æŒ‰ç…§æ–‡ä»¶çš„æ–¹å¼æ¥ç®¡ç†
é€šè¿‡ç½‘å¡å‘é€æ•°æ®ï¼Œå°±æ˜¯â€œå†™æ–‡ä»¶â€
é€šè¿‡ç½‘å¡æ¥æ”¶æ•°æ®ï¼Œå°±æ˜¯â€œè¯»æ–‡ä»¶â€

DatagramSocket æ˜¯ ç½‘å¡ çš„ä»£è¨€äºº ï¼Œ ç”¨äºè¯»å†™æ–‡ä»¶
DatagramPacket å°±ä»£è¡¨äº†ä¸€ä¸ª UDP æ•°æ®æŠ¥ ï¼Œ ä¹Ÿå°±æ˜¯ä¸€æ¬¡å‘é€ / æ¥æ”¶çš„åŸºæœ¬å•ä½
```



```
å†™ä¸€ä¸ªæœ€ç®€å•çš„ UDP ç‰ˆæœ¬ çš„ å®¢æˆ·ç«¯ æœåŠ¡å™¨ ç¨‹åºï¼š å›æ˜¾æœåŠ¡å™¨
å®¢æˆ·ç«¯å‘å•¥ï¼ŒæœåŠ¡å™¨å°±å›å•¥  echo server
ä½†æ˜¯ä¸€ä¸ªæ­£ç»çš„æœåŠ¡å™¨ï¼Œå…¶å®æœ‰ä¸€ä¸ªéå¸¸å…³é”®çš„ç¯èŠ‚ï¼Œæ ¹æ®è¯·æ±‚è®¡ç®—å‡ºå“åº”ï¼š æˆ‘æ‰¾ä¸€å®¶é¤å…è¯´â€œæ¥ä¸ªè›‹ç‚’é¥­â€ï¼Œåå¨å°±å¼€å§‹è¡ŒåŠ¨èµ·æ¥ 1ï¼Œè’¸ç±³é¥­ 2. èµ·é”…çƒ§æ²¹ 3. æŠŠç±³é¥­æ”¾è¿›å»ç‚’ 4.åŠ å…¥ä½æ–™ 5.è£…ç›˜
ï¼ˆå›æ˜¾æœåŠ¡å™¨ ï¼š æˆ‘ï¼šâ€œè€æ¿æ¥ä¸ªè›‹ç‚’é¥­â€ï¼Œè€æ¿ï¼šâ€œè€æ¿æ¥ä¸ªè›‹ç‚’é¥­â€
```



![image-20230310165151625](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310165151625.png)

```
ä»‹ç»ä¸€ä¸‹ socket.receive(reqeustPacket)è¿™ä¸ªè¾“å‡ºå‹å‚æ•°

æ ¹æ®ç½‘ç»œæœç´¢ç»“æœÂ¹ï¼Œsocket.receive(reqeustPacket)è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥ä»ç»‘å®šçš„Socketæ¥æ”¶æŒ‡å®šçš„å­—èŠ‚æ•°ï¼Œå­˜å…¥æ¥æ”¶ç¼“å†²åŒºçš„æŒ‡å®šåç§»é‡ä½ç½®ã€‚reqeustPacketæ˜¯ä¸€ä¸ªbyteç±»å‹çš„æ•°ç»„ï¼Œå®ƒæ˜¯å­˜å‚¨æ¥æ”¶åˆ°çš„æ•°æ®çš„ä½ç½®ã€‚è¿™ä¸ªå‚æ•°æ—¢å¯ä»¥ä½œä¸ºè¾“å…¥å‹å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¾“å‡ºå‹å‚æ•°ã€‚ä½œä¸ºè¾“å…¥å‹å‚æ•°ï¼Œå®ƒæŒ‡å®šäº†æ¥æ”¶ç¼“å†²åŒºçš„å¤§å°å’Œä½ç½®ï¼›ä½œä¸ºè¾“å‡ºå‹å‚æ•°ï¼Œå®ƒè¿”å›äº†æ¥æ”¶åˆ°çš„æ•°æ®ã€‚

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/10(1) Socket.Receive æ–¹æ³• (System.Net.Sockets) | Microsoft Learn. https://learn.microsoft.com/zh-cn/dotnet/api/system.net.sockets.socket.receive?view=net-7.0 è®¿é—®æ—¶é—´ 2023/3/10.
(2) Socket.Receive æ–¹æ³• (System.Net.Sockets) | Microsoft Learn. https://learn.microsoft.com/zh-tw/dotnet/api/system.net.sockets.socket.receive?view=net-7.0 è®¿é—®æ—¶é—´ 2023/3/10.
(3) å…³äºSocket.Receive()ä¸Send()çš„å¸¸è§é—®é¢˜_socket receive_cpcpcçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/cpcpc/article/details/7245420 è®¿é—®æ—¶é—´ 2023/3/10.

ä»‹ç»ä¸€ä¸‹å®ƒä½œä¸ºè¾“å‡ºå‹å‚æ•°çš„æƒ…å†µ

æ ¹æ®ç½‘ç»œæœç´¢ç»“æœÂ¹ï¼Œå½“socket.receive(reqeustPacket)ä½œä¸ºè¾“å‡ºå‹å‚æ•°æ—¶ï¼Œå®ƒä¼šè¿”å›æ¥æ”¶åˆ°çš„æ•°æ®çš„å­—èŠ‚æ•°ã€‚è¿™ä¸ªå­—èŠ‚æ•°å¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯å¦å·²ç»æ¥æ”¶åˆ°æ‰€æœ‰å¯ç”¨æ•°æ®ï¼Œæˆ–è€…æ˜¯å¦éœ€è¦ç»§ç»­æ¥æ”¶ã€‚ä¾‹å¦‚ï¼š

//åˆ›å»ºä¸€ä¸ªSocketå¯¹è±¡
Socket socket = new Socket("localhost", 8080);
//åˆ›å»ºä¸€ä¸ªbyteæ•°ç»„ä½œä¸ºè¾“å‡ºå‹å‚æ•°
byte[] reqeustPacket = new byte[1024];
//è°ƒç”¨receiveæ–¹æ³•ï¼Œè¿”å›æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°
int receivedBytes = socket.receive(reqeustPacket);
//æ‰“å°æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°
System.out.println(receivedBytes);
â€‹```

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/10 (1) Socket.Receive æ–¹æ³• (System.Net.Sockets) | Microsoft Learn. https://learn.microsoft.com/zh-cn/dotnet/api/system.net.sockets.socket.receive?view=net-7.0 è®¿é—®æ—¶é—´ 2023/3/10.
(2) Socket.Receive æ–¹æ³• (System.Net.Sockets) | Microsoft Learn. https://learn.microsoft.com/zh-tw/dotnet/api/system.net.sockets.socket.receive?view=net-7.0 è®¿é—®æ—¶é—´ 2023/3/10.
(3) å…³äºSocket.Receive()ä¸Send()çš„å¸¸è§é—®é¢˜_socket receive_cpcpcçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/cpcpc/article/details/7245420 è®¿é—®æ—¶é—´ 2023/3/10.

```

1.è¯»å–è¯·æ±‚å¹¶è§£æ

![image-20230310192010958](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310192010958.png)

2.æ ¹æ®è¯·æ±‚è®¡ç®—å“åº”

![image-20230310192650345](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310192650345.png)

![image-20230310192706817](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310192706817.png)

3.æŠŠå“åº”å†™å›å®¢æˆ·ç«¯

![image-20230310192725028](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310192725028.png)

![image-20230310193527877](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310193527877.png)

4.æ‰“å°ä¸€ä¸ªæ—¥å¿—ï¼Œè®°å½•å½“å‰çš„æƒ…å†µ

![image-20230310193746188](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310193746188.png)



![image-20230310200653531](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310200653531.png)

å…³äº å®¢æˆ·ç«¯ å’Œ æœåŠ¡ç«¯ çš„ç«¯å£åˆ†é…é—®é¢˜

![image-20230310201215589](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310201215589.png)

![image-20230310201536535](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310201536535.png)

é£Ÿå ‚åº—é“º æœ‰ åœ°å€ ï¼ˆip) å’Œ çª—å£ï¼ˆç«¯å£ï¼‰ ï¼Œé¡¾å®¢ æœ‰ èº«ä»½è¯ï¼ˆIP) ï¼Œè‡ªå·±éšæœºæ‰¾ä¸€ä¸ªä½ç½®ç­‰å¾…é£Ÿç‰©ï¼ˆæ“ä½œç³»ç»Ÿéšæœºåˆ†é…ç«¯å£ï¼‰ï¼Œå¦‚æœæ˜¯åº—é“ºè‡ªå·±åˆ†é…çš„ä½ç½®ï¼Œå¯èƒ½ä¼šæœ‰å…¶ä»–äººæå‰ååœ¨é‚£é‡Œã€‚

æœåŠ¡ç«¯ æŒ‡å®š ç«¯å£ çš„åŸå› ï¼šéœ€è¦å®¢æˆ·ç«¯ æ‰¾åˆ° æŒ‡å®š æœåŠ¡ç«¯

å®¢æˆ·ç«¯ ä¸æŒ‡å®š ç«¯å£ çš„åŸå› ï¼š å®¢æˆ·ç«¯ç«¯å£ç”±æ“ä½œç³»ç»Ÿéšæœºåˆ†é…ä¸€ä¸ªç©ºé—²çš„ç«¯å£ï¼Œå¯ä»¥é˜²æ­¢ç«¯å£å·²ç»è¢«å ç”¨

![image-20230310202320081](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310202320081.png)

```
å®¢æˆ·ç«¯ ç»‘å®š æœåŠ¡ç«¯ çš„ IP ï¼ŒPORT ( é¤å…çš„åœ°å€ï¼Œçª—å£), æœåŠ¡å™¨ ç»‘å®š ä¸€ä¸ª PORT( é¤å…çš„çª—å£)
```

![image-20230311155406296](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311155406296.png)

![image-20230311155420001](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311155420001.png)



![image-20230311155604720](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311155604720.png)

![image-20230311155548828](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311155548828.png)

//1. ä»æ§åˆ¶å°è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…å®¹

```
System.out.println("->");
String request = scanner.next();
```

//2. æ„é€ ä¸€ä¸ª UDP è¯·æ±‚ï¼Œå‘é€ç»™æœåŠ¡å™¨

```
DatagramPacket requestPacket = new DatagramPacket(request.getBytes(),request.getBytes().length,InetAddress.getByName(this.serverIP),this.serverPort);
```

```
InetAddress.getByAddress(this.serverIP) å¾—åˆ°çš„æ˜¯ä¸€ä¸ªInetAddresså¯¹è±¡ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªIPåœ°å€ã€‚IPåœ°å€æ˜¯ä¸€ä¸ª32ä½æˆ–128ä½çš„æ— ç¬¦å·æ•°ï¼Œç”¨äºæ ‡è¯†äº’è”ç½‘ä¸Šçš„ä¸€ä¸ªèŠ‚ç‚¹Â²Â³ã€‚ä¾‹å¦‚ï¼Œå¦‚æœthis.serverIPæ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„{192, 168, 1, 1}ï¼Œé‚£ä¹ˆå¾—åˆ°çš„InetAddresså¯¹è±¡å°±è¡¨ç¤º192.168.1.1è¿™ä¸ªIPåœ°å€Â¹ã€‚

ä½¿ç”¨getByAddress()æ–¹æ³•æ—¶ï¼Œæ‚¨éœ€è¦ä¼ å…¥ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”æ•è·å¯èƒ½æŠ›å‡ºçš„UnknownHostExceptionå¼‚å¸¸ï¼ˆè¿™ç§å¼‚å¸¸å‘ç”Ÿåœ¨ç»™å®šçš„å­—èŠ‚æ•°ç»„ä¸ç¬¦åˆIPåœ°å€æ ¼å¼è¦æ±‚æ—¶ï¼‰ã€‚ä¾‹å¦‚ï¼š

try {
    byte[] ip = {192, 168, 1, 1}; // åˆ›å»ºä¸€ä¸ªå­—èŠ‚æ•°ç»„
    InetAddress address = InetAddress.getByAddress(ip); // è°ƒç”¨getByAddress()æ–¹æ³•å¹¶è¿”å›ç»“æœ
    System.out.println(address); // æ‰“å°ç»“æœ
} catch (UnknownHostException e) {
    e.printStackTrace(); // å¤„ç†å¼‚å¸¸
}
è¾“å‡ºç»“æœä¸ºï¼š

/192.168.1.1
è¿™è¯´æ˜æˆ‘ä»¬æˆåŠŸåœ°æ ¹æ®ç»™å®šçš„å­—èŠ‚æ•°ç»„åˆ›å»ºäº†ä¸€ä¸ªè¡¨ç¤º192.168.1.1è¿™ä¸ªIPåœ°å€çš„InetAddresså¯¹è±¡ï¼Œå¹¶æ‰“å°å‡ºäº†å®ƒã€‚

ä½¿ç”¨getByName()æ–¹æ³•æ—¶ï¼Œæ‚¨éœ€è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”æ•è·å¯èƒ½æŠ›å‡ºçš„UnknownHostExceptionå¼‚å¸¸ï¼ˆè¿™ç§å¼‚å¸¸å‘ç”Ÿåœ¨ç»™å®šçš„ä¸»æœºåä¸å­˜åœ¨æˆ–è€…æ— æ³•è§£ææ—¶ï¼‰ã€‚ä¾‹å¦‚ï¼š

try {
    String host = "www.google.com"; // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²
    InetAddress address = InetAddress.getByName(host); // è°ƒç”¨getByName()æ–¹æ³•å¹¶è¿”å›ç»“æœ
    System.out.println(address); // æ‰“å°ç»“æœ
} catch (UnknownHostException e) {
    e.printStackTrace(); // å¤„ç†å¼‚å¸¸
}
è¾“å‡ºç»“æœä¸ºï¼š

www.google.com/142.250.67.4
è¿™è¯´æ˜æˆ‘ä»¬æˆåŠŸåœ°æ ¹æ®ç»™å®šçš„ä¸»æœºååˆ›å»ºäº†ä¸€ä¸ªè¡¨ç¤ºè¿™ä¸ªä¸»æœºçš„IPåœ°å€çš„InetAddresså¯¹è±¡ï¼Œå¹¶æ‰“å°å‡ºäº†å®ƒã€‚

æ€»ç»“ getByName() æ¥æ”¶çš„æ˜¯å­—ç¬¦ä¸²ï¼ŒgetByAddress() æ¥æ”¶çš„æ˜¯ å­—èŠ‚æ•°ç»„

```

![image-20230310204219954](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310204219954.png)

//3. ä»æœåŠ¡å™¨è¯»å– UDP å“åº”æ•°æ®ï¼Œå¹¶è§£æ

![image-20230310205009275](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230310205009275.png)

ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§çš„åŒºåˆ«å°±æ˜¯æŠŠIP å’Œ PORT æ‰“åŒ…åœ¨ä¸€èµ· å’Œ æ‹†å¼€çš„åŒºåˆ«

//4. æŠŠæœåŠ¡å™¨çš„å“åº”æ˜¾ç¤ºåˆ°æ§åˆ¶å°ä¸Š

```Java
System.out.printf("[%s:%d] req: %s; resp:%s\n",requestPacket.getAddress().toString(),
                    requestPacket.getPort(),request,response);
```



æœåŠ¡å™¨è¦ç»™å¤šä¸ªå®¢æˆ·ç«¯æä¾›æœåŠ¡

å¦‚ä½•åœ¨ idea ä¸­å¯åŠ¨å¤šä¸ªå®¢æˆ·ç«¯ï¼Ÿ

![image-20230311152026435](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311152026435.png)

![image-20230311152043437](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311152043437.png)

ä¸¤ä¸ªä¸åŒçš„ç«¯å£ï¼Œä»£è¡¨äº†ä¸¤ä¸ªå®¢æˆ·ç«¯ï¼Œéƒ½æ˜¯ç³»ç»Ÿéšæœºåˆ†é…çš„ç©ºé—²ç«¯å£



ä¸åŒçš„ ä¸šåŠ¡ ï¼Œä¸åŒä½“ç°åœ¨ process() ä¸Šï¼Œå¦‚ä½•å¤„ç† å®¢æˆ·ç«¯ å‘æ¥çš„æ•°æ®ï¼Œstart()æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•å³å¯

![image-20230311154311843](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311154311843.png)

```java
import java.io.IOException;
import java.net.SocketException;
import java.util.HashMap;
import java.util.Map;

public class UdpTranslateServer extends UdpEchoServer{
    //ç¿»è¯‘ æœ¬è´¨ ä¸Šå°±æ˜¯é€šè¿‡ key æ‰¾åˆ° value
    private Map<String,String> dict = new HashMap<>();

    public UdpTranslateServer(int port) throws SocketException {
        super(port);// ä¼ ç»™çˆ¶ç±»çš„UdpEchoServeræ–¹æ³•ï¼Œç»‘å®šç«¯å£
        dict.put("cat","å°çŒ«");
        dict.put("dog","å°ç‹—");
        // å­—å…¸ç¨‹åº é‡Œé¢ æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å“ˆå¸Œè¡¨ èƒ½åŒ…å«éå¸¸å¤šçš„å•è¯
    }
    // é‡å†™ process æ–¹æ³•ï¼Œå®ç°æŸ¥è¯¢å“ˆå¸Œè¡¨çš„æ“ä½œ
    @Override
    public String process(String request){
        return dict.getOrDefault(request,"è¯æœªåœ¨è¯å…¸ä¸­æ‰¾åˆ°");
    }
    // start() æ–¹æ³• å’Œ çˆ¶ç±» ä¸­çš„ä¸€æ ·ï¼Œå°±ä¸ç”¨å†™äº†
    public static void main(String[] args) throws IOException {
        UdpTranslateServer server = new UdpTranslateServer(9090);
        server.start();
    }
}

```



```
å…³äº Socket åˆ°åº•æ˜¯ä»€ä¹ˆçš„é—®é¢˜ï¼Ÿ
é€šè¿‡ socket æ¥ç»‘å®š ç«¯å£ ç„¶åä¼ è¾“
ç„¶å é€šè¿‡ socket.send()/socket.receive()
```

![image-20230311160207320](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311160207320.png)

![image-20230311160220370](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311160220370.png)

### TCPç‰ˆæœ¬çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç¨‹åº

![image-20230311160800669](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230311160800669.png)



```
TcpEchoServer ä¸­ 
listenSocket å’Œ clientSocket æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
æ‚¨å¥½ï¼Œè¿™æ˜¯Bingã€‚ğŸ˜Š

æ ¹æ®ç½‘ç»œæœç´¢ç»“æœï¼ŒTCpæœåŠ¡ç«¯ä¸­ listenSocket å’Œ clientSocket æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š

- listenSocket æ˜¯ç”¨äºç›‘å¬å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚çš„å¥—æ¥å­—ï¼Œå®ƒç»‘å®šä¸€ä¸ªç«¯å£å¹¶ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥Â¹ã€‚
- clientSocket æ˜¯ç”¨äºå’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„å¥—æ¥å­—ï¼Œå®ƒç”± listenSocket çš„ accept() æ–¹æ³•è¿”å›ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥éƒ½å¯¹åº”ä¸€ä¸ª clientSocketÂ¹Â³ã€‚
- listenSocket åªè´Ÿè´£å»ºç«‹è¿æ¥ï¼Œä¸è´Ÿè´£ä¼ è¾“æ•°æ®ï¼›clientSocket åªè´Ÿè´£ä¼ è¾“æ•°æ®ï¼Œä¸è´Ÿè´£å»ºç«‹è¿æ¥Â²ã€‚

å¦‚æœå°† listenSocket å’Œ clientSocket åˆå¹¶åœ¨ä¸€èµ·ï¼Œå°±ä¼šå¯¼è‡´æ— æ³•åŒºåˆ†ä¸åŒçš„å®¢æˆ·ç«¯è¿æ¥ï¼Œå¹¶ä¸”æ— æ³•åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚ã€‚å› æ­¤ï¼ŒlistenSocket å’Œ clientSocket æ˜¯å¿…è¦ä¸”åˆ†ç¦»çš„ä¸¤ä¸ªå˜é‡ã€‚

å¸Œæœ›è¿™èƒ½å›ç­”æ‚¨çš„é—®é¢˜ã€‚ğŸ‘

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/11(1) Java Socketé€šä¿¡ä¹‹TCPåè®®_java socket tcp_å¯èƒ½æ˜¯ä¸€åªçŸ¥æ›´é¸Ÿçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/fxt579810/article/details/123567458 è®¿é—®æ—¶é—´ 2023/3/11.
(2) C++å®ç°Tcpé€šä¿¡ï¼ˆè€ƒè™‘å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ–­å¼€é‡è¿çš„æƒ…å†µï¼‰_ç²½å­å°å“¥çš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/qq_22545985/article/details/105321166 è®¿é—®æ—¶é—´ 2023/3/11.
(3) C# ä¹‹ TcpClientå’ŒSocket_c# socket tcpclient_æœªæ¥æ— é™çš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/qq_30725967/article/details/86140956 è®¿é—®æ—¶é—´ 2023/3/11.


listenSocket å’Œ clientSocket å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚çš„åŸç†æ˜¯ï¼š

- listenSocket ä¸€ç›´ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶ä¸”æ¯æ¬¡æ¥æ”¶åˆ°ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼Œå°±è°ƒç”¨ accept() æ–¹æ³•è¿”å›ä¸€ä¸ª clientSocketÂ¹ã€‚
- clientSocket è´Ÿè´£å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’ï¼Œä½†æ˜¯æ¯ä¸ª clientSocket åªèƒ½å’Œä¸€ä¸ªå®¢æˆ·ç«¯é€šä¿¡ï¼Œæ‰€ä»¥éœ€è¦ä¸ºæ¯ä¸ª clientSocket åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æˆ–è¿›ç¨‹æ¥å¤„ç†æ•°æ®Â¹Â³ã€‚
- è¿™æ ·ï¼ŒlistenSocket å°±å¯ä»¥ç»§ç»­ç›‘å¬å…¶ä»–å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œè€Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼›è€Œæ¯ä¸ª clientSocket å°±å¯ä»¥åœ¨è‡ªå·±çš„çº¿ç¨‹æˆ–è¿›ç¨‹ä¸­å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–å®¢æˆ·ç«¯çš„é€šä¿¡Â²ã€‚

åº—é“ºå¤–é¢æ‹‰å®¢çš„äºº æ‹‰åˆ°å®¢äººäº† å’Œ åº—å†…çš„æœåŠ¡å‘˜ å¯¹æ¥ä¸€ä¸‹ï¼Œå°±ç»§ç»­å‡ºå»æ‹‰å®¢äº†

è¿™å°±æ˜¯ listenSocket å’Œ clientSocket å¦‚ä½•åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚çš„åŸºæœ¬æ€è·¯ã€‚ğŸ˜Š

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/11(1) javaç¼–å†™ç®€å•çš„Socketé€šä¿¡åº”ç”¨ å®ç°æœåŠ¡ç«¯åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯_LJHSkyWalkerçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/qq_31615049/article/details/87437719 è®¿é—®æ—¶é—´ 2023/3/11.
(2) linuxç½‘ç»œç¼–ç¨‹ä¹‹socketï¼ˆå››ï¼‰ï¼šä½¿ç”¨forkå¹¶å‘å¤„ç†å¤šä¸ªclientçš„è¯·æ±‚å’Œå¯¹ç­‰é€šä¿¡p2p - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘. https://cloud.tencent.com/developer/article/1008782 è®¿é—®æ—¶é—´ 2023/3/11.
(3) Python ç½‘ç»œç¼–ç¨‹ | èœé¸Ÿæ•™ç¨‹. https://www.runoob.com/python/python-socket.html è®¿é—®æ—¶é—´ 2023/3/11.
```

#### try-with-resources 

```

1.
try-with-resources æ˜¯ Java 7 å¼•å…¥çš„ä¸€ç§è¯­å¥ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨ try å—ä¸­å£°æ˜è¦ä½¿ç”¨çš„èµ„æºï¼Œå¹¶ä¿è¯åœ¨ try å—ç»“æŸåï¼Œèµ„æºä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚Â¹Â²Â³

è¦ä½¿ç”¨ try-with-resources è¯­å¥ï¼Œå£°æ˜çš„èµ„æºå¿…é¡»å®ç° AutoCloseable æ¥å£ï¼Œè¿™ä¸ªæ¥å£åªæœ‰ä¸€ä¸ª close æ–¹æ³•ï¼Œç”¨äºé‡Šæ”¾èµ„æºã€‚Â¹

try-with-resources è¯­å¥çš„æ ¼å¼å¦‚ä¸‹ï¼š

â€‹```java
try (Resource resource = new Resource()) {
  //ä½¿ç”¨èµ„æºçš„ä»£ç 
} catch (Exception e) {
  //å¤„ç†å¼‚å¸¸çš„ä»£ç 
}
â€‹```

è¿™æ ·å°±ä¸éœ€è¦åœ¨ finally å—ä¸­æ˜¾å¼åœ°å…³é—­èµ„æºäº†ã€‚

ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ

æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/3/11(1) Java - Try with Resources | Baeldung. https://www.baeldung.com/java-try-with-resources è®¿é—®æ—¶é—´ 2023/3/11.
(2) The try-with-resources Statement (The Javaâ„¢ Tutorials > Essential Java .... https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html è®¿é—®æ—¶é—´ 2023/3/11.
(3) The try-with-resources Statement - Oracle. https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html è®¿é—®æ—¶é—´ 2023/3/11.

2.
å¥½çš„ï¼Œæˆ‘æ¥ä¸¾ä¸ªå®é™…çš„ä»£ç ä¾‹å­ã€‚å‡è®¾æˆ‘ä»¬è¦ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»å–å†…å®¹ï¼Œå¹¶æŠŠå®ƒå†™å…¥å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ FileInputStream å’Œ FileOutputStream ç±»ï¼Œè¿™ä¸¤ä¸ªç±»éƒ½å®ç°äº† AutoCloseable æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ try-with-resources è¯­å¥æ¥ç®¡ç†å®ƒä»¬ã€‚

try (FileInputStream in = new FileInputStream("input.txt");
     FileOutputStream out = new FileOutputStream("output.txt")) {
  int data;
  while ((data = in.read()) != -1) {
    out.write(data);
  }
} catch (IOException e) {
  e.printStackTrace();
}
è¿™æ ·å°±å¯ä»¥åœ¨ try å—ä¸­å£°æ˜ä¸¤ä¸ªèµ„æºï¼Œå¹¶åœ¨ try å—ç»“æŸåè‡ªåŠ¨å…³é—­å®ƒä»¬ã€‚å¦‚æœæœ‰ä»»ä½•è¾“å…¥è¾“å‡ºå¼‚å¸¸ï¼Œå°±ä¼šè¢« catch å—æ•è·å¹¶å¤„ç†ã€‚

ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ

3.
å¦‚æœä¸ç”¨ try-with-resources è¯­å¥ï¼Œå°±éœ€è¦åœ¨ finally å—ä¸­æ˜¾å¼åœ°å…³é—­èµ„æºï¼Œè¿™æ ·ä¼šå¢åŠ ä»£ç çš„å¤æ‚åº¦å’Œå‡ºé”™çš„å¯èƒ½æ€§ã€‚ä¾‹å¦‚ï¼š

FileInputStream in = null;
FileOutputStream out = null;
try {
  in = new FileInputStream("input.txt");
  out = new FileOutputStream("output.txt");
  int data;
  while ((data = in.read()) != -1) {
    out.write(data);
  }
} catch (IOException e) {
  e.printStackTrace();
} finally {
  try {
    if (in != null) {
      in.close();
    }
    if (out != null) {
      out.close();
    }
  } catch (IOException e) {
    e.printStackTrace();
  }
}
ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ ·çš„ä»£ç æ¯”ä½¿ç”¨ try-with-resources çš„ä»£ç è¦é•¿å¾—å¤šï¼Œå¹¶ä¸”è¿˜è¦å¤„ç†å…³é—­èµ„æºæ—¶å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ã€‚


```



```
ServerSocket ç»™æœåŠ¡å™¨ç”¨çš„ï¼Œç›‘å¬ç«¯å£
Socket ç»™å®¢æˆ·ç«¯&æœåŠ¡å™¨ç”¨çš„ï¼Œç”¨æ¥ä¼ è¾“æ•°æ®

Socket clientSocket = listenSocket.accept()
å¦‚æœå½“å‰æ²¡æœ‰å®¢æˆ·ç«¯æ¥å»ºç«‹è¿æ¥ï¼Œaccept å°±ä¼šé˜»å¡

socket ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªè¿›ç¨‹èƒ½å¤Ÿæ‰“å¼€çš„æ–‡ä»¶ä¸ªæ•°ï¼Œæ˜¯æœ‰ä¸Šçº¿çš„
PCB æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼Œä¸æ˜¯æ— é™çš„
listenSocket = new ServerSocket(port);
æ˜¯åœ¨TCPæœåŠ¡å™¨ç¨‹åºä¸­ï¼Œåªæœ‰å”¯ä¸€ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¸å¤ªä¼šæŠŠæ–‡ä»¶æè¿°ç¬¦å æ»¡ï¼ˆéšç€è¿›ç¨‹çš„é€€å‡ºï¼Œè‡ªåŠ¨é‡Šæ”¾ï¼‰
```

![image-20230313135446081](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230313135446081.png)

```
è€Œ clientSocket æ˜¯åœ¨å¾ªç¯å½“ä¸­ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯è¿ä¸Šæ¥éƒ½è¦åˆ†é…ä¸€ä¸ªï¼Œè¿™ä¸ªå¯¹è±¡å°±ä¼šè¢«åå¤åˆ›å»ºå‡ºç¤ºä¾‹ï¼Œæ¯åˆ›å»ºä¸€ä¸ªï¼Œéƒ½è¦æ¶ˆè€—ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œä¸€ç›´åˆ›å»ºå°±ä¼šå¸¦æ¥å›°æ‰°ï¼Œè¦åŠæ—¶åœ°å»é‡Šæ”¾å®ƒä»¬
å› æ­¤å°±éœ€è¦æŠŠä¸å†ä½¿ç”¨ clientsocket åŠæ—¶é‡Šæ”¾æ‰
clientSocket.close();
```

![image-20230313150029900](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230313150029900.png)



![image-20230313150553526](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230313150553526.png)

```
listenSocket.accept() ä¸€ç›´å¤„äºæ¥æ”¶çŠ¶æ€ï¼Œå½“æ¥æ”¶åˆ°äº† client å‘æ¥çš„æ•°æ®ï¼Œå°±æ¥ç€è¿›è¡Œ processConnection(clientSocket) æ“ä½œ
```



![image-20230313151755728](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230313151755728.png)

```
å¦‚æœæ²¡æœ‰å®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨å°±ä¼šé˜»å¡åˆ° accept 
å¦‚æœæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯è¿‡æ¥äº†ï¼Œæ­¤æ—¶å°±ä¼šè¿›å» processConnection æ–¹æ³•
```

![image-20230313152028395](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230313152028395.png)



![image-20230313154238000](C:\Users\æ–¹é”\AppData\Roaming\Typora\typora-user-images\image-20230313154238000.png)